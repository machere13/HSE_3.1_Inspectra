<%= render layout: 'shared/wrappers/W_ControlPanel',
    locals: {
      state_key: 'o_audio_player_state',
      id: 'js-audio-player',
      icon_name: 'Q_AudioIcon',
      data: { js_audio_player: '' },
      body_fill: false
    } do %>
  <div class="O_AudioPlayer" data-js-audio-player-body>
    <audio data-js-audio-player-src preload="metadata" style="display: none;"></audio>
    <div class="O_AudioPlayer-PlayWrapper">
      <button type="button" class="O_AudioPlayer-Play" data-js-audio-player-play aria-label="Воспроизвести / пауза">
        <%= render 'shared/quarks/Q_Icon', name: 'Q_AudioIcon', width: 27, height: 27 %>
      </button>
    </div>
    <div class="O_AudioPlayer-ProgressRow">
      <span class="O_AudioPlayer-Time text-code" data-js-audio-player-time>00:00</span>
      <div class="O_AudioPlayer-ProgressRow-Timeline">
        <%= render 'shared/quarks/Q_TimeLine' %>
      </div>
      <span class="O_AudioPlayer-Time text-code" data-js-audio-player-duration>00:00</span>
    </div>
    <div class="O_AudioPlayer-BottomRow">
      <div class="O_AudioPlayer-Controls">
        <button type="button" class="O_AudioPlayer-Ctrl" data-js-audio-prev aria-label="Предыдущий трек"><%= render 'shared/quarks/Q_Icon', name: 'Q_ArrowRightIcon', width: 20, height: 20 %></button>
        <button type="button" class="O_AudioPlayer-Ctrl" data-js-audio-next aria-label="Следующий трек"><%= render 'shared/quarks/Q_Icon', name: 'Q_ArrowRightIcon', width: 20, height: 20 %></button>
        <button type="button" class="O_AudioPlayer-Ctrl O_AudioPlayer-Ctrl--loop" data-js-audio-loop aria-label="Повтор трека" title="Повтор одного"><span class="O_AudioPlayer-LoopOne">1</span></button>
      </div>
      <div class="O_AudioPlayer-Volume" data-js-audio-player-volume aria-label="Громкость">
        <button type="button" class="O_AudioPlayer-VolumeIcon" data-js-audio-player-volume-toggle aria-label="Громкость" aria-expanded="false">
          <%= render 'shared/quarks/Q_Icon', name: 'Q_AudioIcon', width: 18, height: 18 %>
        </button>
        <div class="O_AudioPlayer-VolumeSliderWrap">
          <%= render 'shared/molecules/M_VolumeSlider' %>
        </div>
      </div>
    </div>
  </div>
<% end %>
